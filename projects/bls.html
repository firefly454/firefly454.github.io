---
layout: default
title: Erica Kim's blog
---
<div class="blurb">
        <h2>Working with data from the Bureau of Labor Statistics, part 1</h2>
        <a href="http://www.bls.gov/">The Bureau of Labor Statistics</a> website has many datasets pertaining obviously
        to labor statistics - in particular, the main subjects are: 
        <ul>
        <li>Inflation and Prices</li>
        <li>Employment & Unemployment</li>
        <li>Pay & Benefits</li>
        <li>Spending & Time Use</li>
        <li>Productivity</li>
        <li>Workplace Injuries</li>
        <li>International</li>
        <li>Regional Resources</li>
        </ul>
        
        However, these are horfifically ugly files! While some of the datasets are in relatively clean Microsoft excel
        format, the majority are either contained in tables in PDF files (!), or in easy-to-parse but very cryptic plain text
        files.<br><br>
        
        For the first part of this section, I'll give an example of working with one of the BLS's pdf files. I will investigate
        Workplace Injuries, specifically focusing on the number of different types of fatalities in each industry. The primary
        file is "cftb0286.pdf", and can be found in <a href="http://www.bls.gov/iif/oshcfoi1.htm">here</a>, under 
        "2014 Census of Fatal Occupational Injuries (preliminary data) - 
        Industry by event or exposure, 2014 (PDF 272K)".<br><br>
   
      Here is the first page of the 35-page document:<br><br>
      <img src="bls_fatalities1.png" alt="BLS pdf example" width="75%">
      
      Parsing a pdf in Python (or in any language) is not straight-forward! PDFs are not meant for extracting text and numbers -
      really, they are just a stable, static image that prints easily. However, I don't want to print the document, I want the 
      information in a nice, tidy array or dataframe! While there are a few python libraries as well as stand-alone websites that
      claim to do pdf parsing, I didn't have too much luck with what I tried, with information not getting parsed correctly.<br><br>
      
      So, I did something maybe a little weird. I copy and pasted the pdf file into my favorite text editor (Sublime Text), which
      correctly put each row of the table into its own line in the text file. I then saved the file as a normal text file, and then
      opened up Jupyter Notebook (formally Ipython Notebook), to do the rest of the data munging and analysis. <br><br>
     
</div><!-- /.blurb -->
